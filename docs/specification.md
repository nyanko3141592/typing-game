# Context-Conditioned Composing Contest

文脈を読んで変換する日本語 IME 向けのタイピングゲーム

## ゲーム概要

- 10 問をランダムに出題
- IME の文脈変換性能をテスト：同じ読みでも文脈に応じて適切な漢字に変換されるか
- テキストフィールドに文脈が最初から入力されており、その続きを入力
- 最終的に正しい漢字になっていれば入力方法は問わない（IME 性能テストのため）

## 操作方法

- テキストフィールドに表示される文脈の続きを入力
- Enter キーで回答を確定
- 正解したら自動的に次の問題へ進む
- 不正解の場合は入力内容を保持して再入力可能
- リアルタイムで期待結果との比較表示（正解部分は緑、不正解部分は赤でハイライト）

## 問題例

| 文脈                   | 正解               |
| ---------------------- | ------------------ |
| 雑誌に                 | 載ります           |
| 車に                   | 乗ります           |
| 私は美輪です。         | 父の名前も美輪です |
| 私は三輪です。         | 父の名前も三輪です |
| 悟りを開きました。     | 神と化してます     |
| 風呂上がりです。       | 髪とかしてます     |
| 私はアナウンサーです。 | 司会を務めます     |
| 私は歯医者です。       | 歯科医を務めます   |
| 地中                   | 海                 |
| 世                     | 界                 |
| 方程式の               | 解                 |
| ちいかわの神           | 回                 |

## ゲームフロー

1. スタート画面でゲーム説明と TOP10 ランキングを表示
2. 「ゲームスタート」ボタンでタイマー開始
3. 10 問を順番に解く（リアルタイムタイマーとプログレスバーで進捗表示）
4. 各問題で文脈に応じた適切な漢字変換をテスト
5. 全問完了後、自動でランキングに登録（仮名で）
6. 名前を後から変更可能

## IME 最適化機能

- **文脈読み直し**: 問題変更時にフォーカスを一度外してからフォーカスし直すことで、IME に新しい文脈を認識させる
- **入力方法フリー**: ひらがな変換でも直接漢字入力でも、最終結果が正しければ正解
- **リアルタイム比較**: 入力中に期待結果と比較して、正解部分を緑、不正解部分を赤でハイライト表示

## ランキング機能

- **自動登録**: ゲーム完了時に自動でランキングに登録
- **名前変更**: 登録後に名前を変更可能
- **日次リセット**: 毎日 0 時にランキングがリセットされて新しい日のランキングが開始
- **LocalStorage 保存**: 最大 10 件をタイム順で保存
- **詳細表示**: 名前・タイム・日時（年/月/日 時:分:秒）を表示
- **金銀銅表示**: 1 位〜3 位は特別なグラデーション表示

## 技術仕様

- **問題データ管理**: questions.json で問題と変換ルールを管理
- **重複回答防止**: Enter キー連打による誤判定を防ぐ処理フラグ
- **レスポンシブ対応**: モバイルデバイスでも利用可能
- **モダン UI**: グラデーション・アニメーション・ホバー効果

## ファイル構成

### メインゲーム
- `index.html`: タイピングゲームのメインページ
- `script.js`: ゲームロジック、ランキング機能、UI制御
- `styles.css`: 全体のスタイルシート
- `questions.json`: 問題データと変換ルール

### いい感じ変換デモ
- `good-feeling-conversion.html`: いい感じ変換の体験デモページ
- `good-feeling-conversion.js`: デモ専用のJavaScript（シンプルなCtrl+S体験）

## その他の機能

- **リセットボタン**: ゲーム中でも最初からやり直し可能
- **プログレスバー**: 現在の進捗を視覚的に表示
- **リアルタイムタイマー**: ゲーム中に 0.1 秒単位でタイム表示
- **エラーハンドリング**: LocalStorage 保存失敗時の適切な処理

## いい感じ変換デモ機能

azooKey on macOS の「いい感じ変換」機能を体験できる専用ページを実装

### 機能概要

- **ページ構成**: `good-feeling-conversion.html` として独立したページ
- **カード形式レイアウト**: 5つのユースケースが縦に並んだカード形式
- **シンプルな体験**: ポップアップや複雑なUIを排除したミニマルなデザイン

### ユースケースカード

各カードには以下の要素を含む：

1. **🌍 English変換**
   - 例文: 私は直希です。よろしくお願いします。
   - 期待結果: I am Naoki. Nice to meet you.

2. **😄 絵文字デコ**
   - 例文: 今日はテンション上がるね。頑張ろう！
   - 期待結果: 🎉 今日は ✨ テンション 📈 上がるね 😄！💪 頑張ろう 🔥！

3. **💼 ビジネスメール**
   - 例文: お世話に〜。直希です。資料できたから送るね。
   - 期待結果: お世話になっております。直希でございます。資料が完成いたしましたので、送付させていただきます。

4. **😊 カジュアル変換**
   - 例文: 本日はお忙しい中、貴重なお時間をいただき、誠にありがとうございました。
   - 期待結果: 今日は忙しい中、時間作ってくれてありがとう！

5. **🙏 敬語変換**
   - 例文: 会議は明日の10時からです。資料を用意してください。
   - 期待結果: 会議は明日の10時からでございます。資料をご用意いただけますでしょうか。

### 操作方法

1. **テキスト選択**: 各カードのテキストエリアで文章の一部を選択
2. **Ctrl+S 実行**: テキスト選択後にCtrl+Sを押す
3. **視覚フィードバック**: テキストエリアの境界線が緑色に光って操作を確認
4. **期待結果確認**: 各カードの下部に期待される変換結果を静的表示

### 技術実装

- **ブラウザ保存防止**: `e.preventDefault()` でCtrl+Sのデフォルト動作を無効化
- **視覚フィードバック**: 選択テキストがある状態でCtrl+Sを押すとテキストエリアがハイライト
- **シンプル設計**: ポップアップウィンドウや複雑な状態管理を排除
- **レスポンシブ対応**: モバイルデバイスでも利用可能

### アクセス方法

- **メインページから**: 「🤖 いい感じ変換を体験」ボタンでアクセス
- **ゲーム終了後**: 結果画面の「🤖 いい感じ変換デモ」リンクからアクセス
- **直接アクセス**: `good-feeling-conversion.html` への直接リンク

### 実際のIME機能との違い

この体験デモは操作感のみを再現しており、実際の変換は行いません。
実際の「いい感じ変換」機能を使用するには azooKey on macOS をインストールして、
任意のテキストエディタで同じ操作（テキスト選択 + Ctrl+S）を行う必要があります。

# Web

Download
https://github.com/azooKey/azooKey-Desktop/releases

Repository
https://github.com/azooKey/azooKey-Desktop
